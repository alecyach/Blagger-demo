<template name="blog">
  <div class="container">
    <header>
    <h1>{{ blogAuthorName }}'s Blog</h1>
    {{#if currentUser }}
      {{#if ownBlog }}
        {{> createPost }}
        {{/if}}
    {{/if}}
    </header>
    {{#each posts}}
      {{> post}}
    {{/each}}
  </div>
</template>
<template name="post">
  <div class="post col-md-12">
    <div class="title text-center col-md-12">{{title}}</div>
    <div class="author col-md-2">
      {{ postAuthorName }}
      <br>
      Posted: {{ createdAt }}
      {{#if currentUser }}
        {{#if ownBlog }}
          <br>
          <button class="delete-button btn btn-default">Delete</button>
        {{/if}}
      {{/if}}
    </div>
    <div class="col-md-10">{{ body }}</div>
    {{#if currentUser }}
      {{> createComment parentId=_id}}
    {{/if}}
    {{#each comments }}
      {{> comment }}
    {{/each}}
  </div>
</template>

<template name="comment">
  <div class="comment col-md-10 pull-right">
    <div class="author col-md-2">
      {{ postAuthorName }}
      <br>
      Posted: {{ createdAt }}
      {{#if currentUser }}
        {{#if ownBlog }}
          <br>
          <button class="delete-button btn btn-default">Delete</button>
        {{/if}}
      {{/if}}
    </div>
    <div class="col-md-10">{{ body }}</div>
    {{#if currentUser }}
      {{> createComment parentId=_id}}
    {{/if}}
    {{#each comments}}
      {{> comment }}
    {{/each}}
  </div>
</template>
